webpackJsonp([0],{0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var u=r(1),a=n(u),l=r(30),o=n(l),s=r(163),i=r(226),d=r(233),c=r(248),f=n(c),p=r(263),m=n(p),h={user:window.__INITIAL_STATE__.user},v=(0,d.combineReducers)(m["default"]),_=(0,d.createStore)(v,h);o["default"].render(a["default"].createElement(i.Provider,{store:_},a["default"].createElement(s.Router,{routes:f["default"],history:s.browserHistory})),document.querySelector("main"))},248:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(249),a=n(u),l=r(257),o=n(l),s=r(258),i=n(s),d=r(261),c=n(d);t["default"]={path:"/",component:a["default"],indexRoute:{component:o["default"]},childRoutes:[{path:"login",component:i["default"]},{path:"signup",component:c["default"]}]}},249:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,l["default"].createElement(s["default"],null),e.children,l["default"].createElement(d["default"],null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(1),l=n(a),o=r(250),s=n(o),i=r(256),d=n(i)},250:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.user,r=e.logoutUser;return o["default"].createElement("header",null,o["default"].createElement(s.IndexLink,{to:{pathname:"/"}},"Cryptonite"),o["default"].createElement("nav",null,t.authenticated?o["default"].createElement(f,{user:t,logoutUser:r}):o["default"].createElement(a,null)))}function a(e){return o["default"].createElement("ul",null,o["default"].createElement("li",null,o["default"].createElement(s.Link,{to:{pathname:"signup"}},"Sign Up")),o["default"].createElement("li",null,o["default"].createElement(s.Link,{to:{pathname:"login"}},"Login")))}Object.defineProperty(t,"__esModule",{value:!0});var l=r(1),o=n(l),s=r(163),i=r(226),d=r(251),c=r(254),f=(0,s.withRouter)(function(e){var t=function(t){t.preventDefault(),(0,d.logout)().then(function(){e.logoutUser(),e.router.push("/")})};return o["default"].createElement("ul",null,o["default"].createElement("li",null,e.user.username),o["default"].createElement("li",null,o["default"].createElement("a",{href:"#",onClick:t},"Logout")))});t["default"]=(0,i.connect)(function(e){return{user:e.user}},{logoutUser:c.logoutUser})(u)},251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.signup=t.login=void 0,r(252);var n=r(253);t.login=function(e,t){var r=(0,n.getCSRFToken)();return fetch("/api/auth/login",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":r},body:JSON.stringify({username:e,password:t})})},t.signup=function(e,t,r){return fetch("/api/auth/signup",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":(0,n.getCSRFToken)()},body:JSON.stringify({username:e,password1:t,password2:r})})},t.logout=function(){return fetch("/api/auth/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":(0,n.getCSRFToken)()}})}},253:function(e,t){"use strict";function r(){var e=document.cookie.split("&");return e.reduce(function(e,t){if(void 0!==e)return e;var r=t.split("="),u=n(r,2),a=u[0],l=u[1];return"csrftoken"===a?l:e},void 0)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,u=!1,a=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(s){u=!0,a=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(u)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getCSRFToken=r},254:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.logoutUser=t.loginUser=void 0;var u=r(255),a=n(u);t.loginUser=function(e){return{type:a.LOGIN_USER,user:e}},t.logoutUser=function(){return{type:a.LOGOUT_USER}}},255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGIN_USER="LOGIN_USER",t.LOGOUT_USER="LOGOUT_USER"},256:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,"made by ",l["default"].createElement("a",{href:"http://www.pshrmn.com"},"pshrmn.com"))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(1),l=n(a)},257:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,"Index Page")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(1),l=n(a)},258:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,l["default"].createElement("h2",null,"Login"),l["default"].createElement(i["default"],null),l["default"].createElement("p",null,"Don't have an account? ",l["default"].createElement(o.Link,{to:{pathname:"/signup"}},"Sign up here")))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(1),l=n(a),o=r(163),s=r(259),i=n(s)},259:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),a=n(u),l=r(226),o=r(163),s=r(260),i=r(251),d=r(254),c=a["default"].createClass({displayName:"LoginForm",getInitialState:function(){return{username:"",password:"",errors:{}}},handleUsername:function(e){this.setState({username:e.target.value})},handlePassword:function(e){this.setState({password:e.target.value})},handleSubmit:function(e){var t=this;e.preventDefault(),(0,i.login)(this.state.username,this.state.password).then(function(e){return e.json()}).then(function(e){return e.success?(t.props.loginUser(e.user),void t.props.router.push("/")):Promise.reject(e.errors)})["catch"](function(e){t.setState({errors:e})})},render:function(){var e=this.state,t=e.username,r=e.password,n=e.errors,u=void 0===n?{}:n;return a["default"].createElement("form",{onSubmit:this.handleSubmit},a["default"].createElement(s.Errors,{errors:u.__all__}),a["default"].createElement(s.InputRow,{name:"Username",value:t,handler:this.handleUsername,errors:u.username,id:"login-username-input"}),a["default"].createElement(s.InputRow,{name:"Password",value:r,type:"password",handler:this.handlePassword,errors:u.password,id:"login-password-input"}),a["default"].createElement("div",null,a["default"].createElement("button",null,"Login")))}});t["default"]=(0,l.connect)(function(e){return{errors:e.errors}},{loginUser:d.loginUser})((0,o.withRouter)(c))},260:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.InputRow=void 0;var u=r(1),a=n(u),l=(t.InputRow=function(e){var t=e.name,r=e.value,n=void 0===r?"":r,u=e.type,o=void 0===u?"text":u,s=e.handler,i=e.id,d=void 0===i?"input-"+Math.floor(1e4*Math.random()):i,c=e.errors;return a["default"].createElement("div",{className:"input-row"},a["default"].createElement("div",null,a["default"].createElement(l,{errors:c})),a["default"].createElement("label",{htmlFor:d},t),a["default"].createElement("input",{type:o,id:d,value:n,onChange:s}))},t.Errors=function(e){var t=e.errors;return t&&t.length?a["default"].createElement("ul",{className:"errors"},t.map(function(e,t){return a["default"].createElement("li",{key:t},e)})):null})},261:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,l["default"].createElement("h2",null,"Sign Up"),l["default"].createElement(i["default"],null),l["default"].createElement("p",null,"Already have an account? ",l["default"].createElement(o.Link,{to:{pathname:"/login"}},"Login here")))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=r(1),l=n(a),o=r(163),s=r(262),i=n(s)},262:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),a=n(u),l=r(226),o=r(163),s=r(260),i=r(251),d=r(254),c=a["default"].createClass({displayName:"SignupForm",getInitialState:function(){return{username:"",password1:"",password2:""}},handleUsername:function(e){this.setState({username:e.target.value})},handlePassword1:function(e){this.setState({password1:e.target.value})},handlePassword2:function(e){this.setState({password2:e.target.value})},handleSubmit:function(e){var t=this;e.preventDefault(),(0,i.signup)(this.state.username,this.state.password1,this.state.password2).then(function(e){return e.json()}).then(function(e){return e.success?(t.props.loginUser(e.user),void t.props.router.push("/")):Promise.reject(e.errors)})["catch"](function(e){t.setState({errors:e})})},render:function(){var e=this.state,t=e.username,r=e.password1,n=e.password2,u=e.errors,l=void 0===u?{}:u;return a["default"].createElement("form",{onSubmit:this.handleSubmit},a["default"].createElement(s.Errors,{errors:l.__all__}),a["default"].createElement(s.InputRow,{name:"Username",value:t,handler:this.handleUsername,errors:l.username,id:"signup-username-input"}),a["default"].createElement(s.InputRow,{name:"Password",value:r,type:"password",handler:this.handlePassword1,errors:l.password1,id:"signup-password1-input"}),a["default"].createElement(s.InputRow,{name:"Password (Verify)",value:n,type:"password",handler:this.handlePassword2,errors:l.password2,id:"signup-password2-input"}),a["default"].createElement("div",null,a["default"].createElement("button",null,"Sign Up")))}});t["default"]=(0,l.connect)(function(e){return{errors:e.errors}},{loginUser:d.loginUser})((0,o.withRouter)(c))},263:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(264),a=n(u);t["default"]={user:a["default"]}},264:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case a.LOGIN_USER:return Object.assign({},t.user,{authenticated:!0});case a.LOGOUT_USER:return{authenticated:!1};default:return e}};var u=r(255),a=n(u)}});