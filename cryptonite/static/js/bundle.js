webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var u=n(1),a=r(u),l=n(30),o=r(l),s=n(163),i=n(226),d=n(233),c=n(248),f=r(c),p=n(263),m=r(p),h={user:window.__INITIAL_STATE__.user,errors:{}},v=(0,d.combineReducers)(m["default"]),_=(0,d.createStore)(v,h);o["default"].render(a["default"].createElement(i.Provider,{store:_},a["default"].createElement(s.Router,{routes:f["default"],history:s.browserHistory})),document.querySelector("main"))},248:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(249),a=r(u),l=n(257),o=r(l),s=n(258),i=r(s),d=n(261),c=r(d);t["default"]={path:"/",component:a["default"],indexRoute:{component:o["default"]},childRoutes:[{path:"login",component:i["default"]},{path:"signup",component:c["default"]}]}},249:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,l["default"].createElement(s["default"],null),e.children,l["default"].createElement(d["default"],null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(1),l=r(a),o=n(250),s=r(o),i=n(256),d=r(i)},250:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.user,n=e.logoutUser;return o["default"].createElement("header",null,o["default"].createElement(s.IndexLink,{to:{pathname:"/"}},"Cryptonite"),o["default"].createElement("nav",null,t.authenticated?o["default"].createElement(f,{user:t,logoutUser:n}):o["default"].createElement(a,null)))}function a(e){return o["default"].createElement("ul",null,o["default"].createElement("li",null,o["default"].createElement(s.Link,{to:{pathname:"signup"}},"Sign Up")),o["default"].createElement("li",null,o["default"].createElement(s.Link,{to:{pathname:"login"}},"Login")))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),o=r(l),s=n(163),i=n(226),d=n(251),c=n(254),f=(0,s.withRouter)(function(e){var t=function(t){t.preventDefault(),(0,d.logout)().then(function(){e.logoutUser(),e.router.push("/")})};return o["default"].createElement("ul",null,o["default"].createElement("li",null,e.user.username),o["default"].createElement("li",null,o["default"].createElement("a",{href:"#",onClick:t},"Logout")))});t["default"]=(0,i.connect)(function(e){return{user:e.user}},{logoutUser:c.logoutUser})(u)},251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.signup=t.login=void 0,n(252);var r=n(253);t.login=function(e,t){var n=(0,r.getCSRFToken)();return fetch("/api/auth/login",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":n},body:JSON.stringify({username:e,password:t})})},t.signup=function(e,t,n){return fetch("/api/auth/signup",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":(0,r.getCSRFToken)()},body:JSON.stringify({username:e,password1:t,password2:n})})},t.logout=function(){return fetch("/api/auth/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":(0,r.getCSRFToken)()}})}},253:function(e,t){"use strict";function n(){var e=document.cookie.split("&");return e.reduce(function(e,t){if(void 0!==e)return e;var n=t.split("="),u=r(n,2),a=u[0],l=u[1];return"csrftoken"===a?l:e},void 0)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,u=!1,a=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(s){u=!0,a=s}finally{try{!r&&o["return"]&&o["return"]()}finally{if(u)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getCSRFToken=n},254:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.setErrors=t.logoutUser=t.loginUser=void 0;var u=n(255),a=r(u);t.loginUser=function(e){return{type:a.LOGIN_USER,user:e}},t.logoutUser=function(){return{type:a.LOGOUT_USER}},t.setErrors=function(e){return{type:a.SET_ERRORS,errors:e}}},255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGIN_USER="LOGIN_USER",t.LOGOUT_USER="LOGOUT_USER",t.SET_ERRORS="SET_ERRORS"},256:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,"made by ",l["default"].createElement("a",{href:"http://www.pshrmn.com"},"pshrmn.com"))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(1),l=r(a)},257:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,"Index Page")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(1),l=r(a)},258:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,l["default"].createElement("h2",null,"Login"),l["default"].createElement(i["default"],null),l["default"].createElement("p",null,"Don't have an account? ",l["default"].createElement(o.Link,{to:{pathname:"/signup"}},"Sign up here")))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(1),l=r(a),o=n(163),s=n(259),i=r(s)},259:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),a=r(u),l=n(226),o=n(163),s=n(260),i=n(251),d=n(254),c=a["default"].createClass({displayName:"LoginForm",getInitialState:function(){return{username:"",password:""}},handleUsername:function(e){this.setState({username:e.target.value})},handlePassword:function(e){this.setState({password:e.target.value})},handleSubmit:function(e){var t=this;e.preventDefault(),(0,i.login)(this.state.username,this.state.password).then(function(e){return e.json()}).then(function(e){return e.success?(t.props.loginUser(e.user),void t.props.router.push("/")):Promise.reject(e.errors)})["catch"](function(e){t.props.setErrors(e)})},render:function(){return a["default"].createElement("form",{onSubmit:this.handleSubmit},a["default"].createElement(s.PInput,{name:"Username",value:this.state.username,handler:this.handleUsername,id:"login-username-input"}),a["default"].createElement(s.PInput,{name:"Password",value:this.state.password,type:"password",handler:this.handlePassword,id:"login-password-input"}),a["default"].createElement("div",null,a["default"].createElement("button",null,"Login")))}});t["default"]=(0,l.connect)(function(e){return{errors:e.errors}},{loginUser:d.loginUser,setErrors:d.setErrors})((0,o.withRouter)(c))},260:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PInput=void 0;var u=n(1),a=r(u);t.PInput=function(e){var t=e.name,n=e.value,r=void 0===n?"":n,u=e.type,l=void 0===u?"text":u,o=e.handler,s=e.id,i=void 0===s?"input-"+Math.floor(1e4*Math.random()):s;return a["default"].createElement("p",null,a["default"].createElement("label",{htmlFor:i},t),a["default"].createElement("input",{type:l,id:i,value:r,onChange:o}))}},261:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){return l["default"].createElement("div",null,l["default"].createElement("h2",null,"Sign Up"),l["default"].createElement(i["default"],null),l["default"].createElement("p",null,"Already have an account? ",l["default"].createElement(o.Link,{to:{pathname:"/login"}},"Login here")))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(1),l=r(a),o=n(163),s=n(262),i=r(s)},262:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),a=r(u),l=n(226),o=n(163),s=n(260),i=n(251),d=n(254),c=a["default"].createClass({displayName:"SignupForm",getInitialState:function(){return{username:"",password1:"",password2:""}},handleUsername:function(e){this.setState({username:e.target.value})},handlePassword1:function(e){this.setState({password1:e.target.value})},handlePassword2:function(e){this.setState({password2:e.target.value})},handleSubmit:function(e){var t=this;e.preventDefault(),(0,i.signup)(this.state.username,this.state.password1,this.state.password2).then(function(e){return e.json()}).then(function(e){return e.success?(t.props.loginUser(e.user),void t.props.router.push("/")):Promise.reject(e.errors)})["catch"](function(e){t.props.setErrors(e)})},render:function(){return a["default"].createElement("form",{onSubmit:this.handleSubmit},a["default"].createElement(s.PInput,{name:"Username",value:this.state.username,handler:this.handleUsername,id:"signup-username-input"}),a["default"].createElement(s.PInput,{name:"Password",value:this.state.password1,type:"password",handler:this.handlePassword1,id:"signup-password1-input"}),a["default"].createElement(s.PInput,{name:"Password (Verify)",value:this.state.password2,type:"password",handler:this.handlePassword2,id:"signup-password2-input"}),a["default"].createElement("div",null,a["default"].createElement("button",null,"Sign Up")))}});t["default"]=(0,l.connect)(function(e){return{errors:e.errors}},{loginUser:d.loginUser,setErrors:d.setErrors})((0,o.withRouter)(c))},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(264),a=r(u),l=n(265),o=r(l);t["default"]={user:a["default"],errors:o["default"]}},264:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case a.LOGIN_USER:return Object.assign({},t.user,{authenticated:!0});case a.LOGOUT_USER:return{authenticated:!1};default:return e}};var u=n(255),a=r(u)},265:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case a.SET_ERRORS:return t.errors;case a.LOGOUT_USER:case a.LOGIN_USER:return{};default:return e}};var u=n(255),a=r(u)}});