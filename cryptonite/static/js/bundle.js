webpackJsonp([0],{0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=r(1),u=n(a),l=r(30),s=n(l),o=r(163),d=r(226),i=r(233),c=r(248),f=n(c),p=r(266),m=n(p),h={user:window.__INITIAL_STATE__.user},w=(0,i.combineReducers)(m["default"]),v=(0,i.createStore)(w,h);s["default"].render(u["default"].createElement(d.Provider,{store:v},u["default"].createElement(o.Router,{routes:f["default"],history:o.browserHistory})),document.querySelector("#app-holder"))},248:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(249),u=n(a),l=r(257),s=n(l),o=r(258);t["default"]={path:"/",component:u["default"],indexRoute:{component:s["default"]},childRoutes:[{path:"login",component:o.Login},{path:"signup",component:o.Signup},{path:"change-password",component:o.ChangePassword}]}},249:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return l["default"].createElement("div",{id:"app-base"},l["default"].createElement(o["default"],null),l["default"].createElement("main",null,e.children),l["default"].createElement(i["default"],null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=r(1),l=n(u),s=r(250),o=n(s),d=r(256),i=n(d)},250:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.user,r=e.logoutUser;return s["default"].createElement("header",null,s["default"].createElement(o.IndexLink,{to:{pathname:"/"}},"Cryptonite"),s["default"].createElement("nav",null,t.authenticated?s["default"].createElement(f,{user:t,logoutUser:r}):s["default"].createElement(u,null)))}function u(e){return s["default"].createElement("ul",null,s["default"].createElement("li",null,s["default"].createElement(o.Link,{to:{pathname:"signup"}},"Sign Up")),s["default"].createElement("li",null,s["default"].createElement(o.Link,{to:{pathname:"login"}},"Login")))}Object.defineProperty(t,"__esModule",{value:!0});var l=r(1),s=n(l),o=r(163),d=r(226),i=r(251),c=r(254),f=(0,o.withRouter)(function(e){var t=function(t){t.preventDefault(),(0,i.logout)().then(function(){e.logoutUser(),e.router.push("/")})};return s["default"].createElement("ul",null,s["default"].createElement("li",null,e.user.username),s["default"].createElement("li",null,s["default"].createElement("a",{href:"#",onClick:t},"Logout")),s["default"].createElement("li",null,s["default"].createElement(o.Link,{to:{pathname:"change-password"}},"Change Password")))});t["default"]=(0,d.connect)(function(e){return{user:e.user}},{logoutUser:c.logoutUser})(a)},251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changePassword=t.logout=t.signup=t.login=void 0,r(252);var n=r(253);t.login=function(e,t){var r=(0,n.getCSRFToken)();return fetch("/api/auth/login",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":r},body:JSON.stringify({username:e,password:t})})},t.signup=function(e,t,r){return fetch("/api/auth/signup",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":(0,n.getCSRFToken)()},body:JSON.stringify({username:e,password1:t,password2:r})})},t.logout=function(){return fetch("/api/auth/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":(0,n.getCSRFToken)()}})},t.changePassword=function(e,t,r){return fetch("/api/auth/change_password",{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":(0,n.getCSRFToken)()},body:JSON.stringify({old_password:e,new_password1:t,new_password2:r})})}},253:function(e,t){"use strict";function r(){var e=document.cookie.split("&");return e.reduce(function(e,t){if(void 0!==e)return e;var r=t.split("="),a=n(r,2),u=a[0],l=a[1];return"csrftoken"===u?l:e},void 0)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(o){a=!0,u=o}finally{try{!n&&s["return"]&&s["return"]()}finally{if(a)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getCSRFToken=r},254:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.logoutUser=t.loginUser=void 0;var a=r(255),u=n(a);t.loginUser=function(e){return{type:u.LOGIN_USER,user:e}},t.logoutUser=function(){return{type:u.LOGOUT_USER}}},255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGIN_USER="LOGIN_USER",t.LOGOUT_USER="LOGOUT_USER"},256:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return l["default"].createElement("footer",null,"made by ",l["default"].createElement("a",{href:"http://www.pshrmn.com"},"pshrmn.com"))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=r(1),l=n(u)},257:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return l["default"].createElement("div",null,l["default"].createElement("h1",null,"Jrypbzr gb Pelcgbavgr!"),l["default"].createElement("p",null,"Cryptonite provides challenges to help you learn the basics of cryptography."))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=r(1),l=n(u)},258:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(259);Object.defineProperty(t,"Login",{enumerable:!0,get:function(){return n(a)["default"]}});var u=r(262);Object.defineProperty(t,"Signup",{enumerable:!0,get:function(){return n(u)["default"]}});var l=r(264);Object.defineProperty(t,"ChangePassword",{enumerable:!0,get:function(){return n(l)["default"]}})},259:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return l["default"].createElement("div",null,l["default"].createElement("h2",null,"Login"),l["default"].createElement(d["default"],null),l["default"].createElement("p",null,"Don't have an account? ",l["default"].createElement(s.Link,{to:{pathname:"/signup"}},"Sign up here")))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=r(1),l=n(u),s=r(163),o=r(260),d=n(o)},260:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=n(a),l=r(226),s=r(163),o=r(261),d=r(251),i=r(254),c=u["default"].createClass({displayName:"LoginForm",getInitialState:function(){return{username:"",password:"",errors:{}}},handleUsername:function(e){this.setState({username:e.target.value})},handlePassword:function(e){this.setState({password:e.target.value})},handleSubmit:function(e){var t=this;e.preventDefault(),(0,d.login)(this.state.username,this.state.password).then(function(e){return e.json()}).then(function(e){return e.success?(t.props.loginUser(e.user),void t.props.router.push("/")):Promise.reject(e.errors)})["catch"](function(e){t.setState({errors:e})})},render:function(){var e=this.state,t=e.username,r=e.password,n=e.errors,a=void 0===n?{}:n;return u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement(o.Errors,{errors:a.__all__}),u["default"].createElement(o.InputRow,{name:"Username",value:t,handler:this.handleUsername,errors:a.username,id:"login-username-input"}),u["default"].createElement(o.InputRow,{name:"Password",value:r,type:"password",handler:this.handlePassword,errors:a.password,id:"login-password-input"}),u["default"].createElement("div",null,u["default"].createElement("button",null,"Login")))}});t["default"]=(0,l.connect)(null,{loginUser:i.loginUser})((0,s.withRouter)(c))},261:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.InputRow=void 0;var a=r(1),u=n(a),l=(t.InputRow=function(e){var t=e.name,r=e.value,n=void 0===r?"":r,a=e.type,s=void 0===a?"text":a,o=e.handler,d=e.id,i=void 0===d?"input-"+Math.floor(1e4*Math.random()):d,c=e.errors;return u["default"].createElement("div",{className:"input-row"},u["default"].createElement("div",null,u["default"].createElement(l,{errors:c})),u["default"].createElement("label",{htmlFor:i},t),u["default"].createElement("input",{type:s,id:i,value:n,onChange:o}))},t.Errors=function(e){var t=e.errors;return t&&t.length?u["default"].createElement("ul",{className:"errors"},t.map(function(e,t){return u["default"].createElement("li",{key:t},e)})):null})},262:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return l["default"].createElement("div",null,l["default"].createElement("h2",null,"Sign Up"),l["default"].createElement(d["default"],null),l["default"].createElement("p",null,"Already have an account? ",l["default"].createElement(s.Link,{to:{pathname:"/login"}},"Login here")))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=r(1),l=n(u),s=r(163),o=r(263),d=n(o)},263:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=n(a),l=r(226),s=r(163),o=r(261),d=r(251),i=r(254),c=u["default"].createClass({displayName:"SignupForm",getInitialState:function(){return{username:"",password1:"",password2:""}},handleUsername:function(e){this.setState({username:e.target.value})},handlePassword1:function(e){this.setState({password1:e.target.value})},handlePassword2:function(e){this.setState({password2:e.target.value})},handleSubmit:function(e){var t=this;e.preventDefault(),(0,d.signup)(this.state.username,this.state.password1,this.state.password2).then(function(e){return e.json()}).then(function(e){return e.success?(t.props.loginUser(e.user),void t.props.router.push("/")):Promise.reject(e.errors)})["catch"](function(e){t.setState({errors:e})})},render:function(){var e=this.state,t=e.username,r=e.password1,n=e.password2,a=e.errors,l=void 0===a?{}:a;return u["default"].createElement("form",{onSubmit:this.handleSubmit},u["default"].createElement(o.Errors,{errors:l.__all__}),u["default"].createElement(o.InputRow,{name:"Username",value:t,handler:this.handleUsername,errors:l.username,id:"signup-username-input"}),u["default"].createElement(o.InputRow,{name:"Password",value:r,type:"password",handler:this.handlePassword1,errors:l.password1,id:"signup-password1-input"}),u["default"].createElement(o.InputRow,{name:"Password (Verify)",value:n,type:"password",handler:this.handlePassword2,errors:l.password2,id:"signup-password2-input"}),u["default"].createElement("div",null,u["default"].createElement("button",null,"Sign Up")))}});t["default"]=(0,l.connect)(null,{loginUser:i.loginUser})((0,s.withRouter)(c))},264:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return l["default"].createElement("div",null,l["default"].createElement("h2",null,"Change Password"),l["default"].createElement(o["default"],null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var u=r(1),l=n(u),s=r(265),o=n(s)},265:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=n(a),l=r(261),s=r(251),o=u["default"].createClass({displayName:"ChangePasswordForm",getInitialState:function(){return{old_password:"",new_password1:"",new_password2:"",success:!1}},handleOldPassword:function(e){this.setState({old_password:e.target.value,success:!1})},handlePassword1:function(e){this.setState({new_password1:e.target.value,success:!1})},handlePassword2:function(e){this.setState({new_password2:e.target.value,success:!1})},handleSubmit:function(e){var t=this;e.preventDefault();var r=this.state,n=r.old_password,a=r.new_password1,u=r.new_password2;(0,s.changePassword)(n,a,u).then(function(e){return e.json()}).then(function(e){return e.success?void t.setState({success:!0,errors:{}}):Promise.reject(e.errors)})["catch"](function(e){t.setState({errors:e})})},render:function(){var e=this.state,t=e.old_password,r=e.new_password1,n=e.new_password2,a=e.success,s=e.errors,o=void 0===s?{}:s;return u["default"].createElement("form",{onSubmit:this.handleSubmit},a?u["default"].createElement("p",null,"Password change successful"):null,u["default"].createElement(l.Errors,{errors:o.__all__}),u["default"].createElement(l.InputRow,{name:"Old Password",value:t,type:"password",handler:this.handleOldPassword,errors:o.old_password,id:"password-old_password-input"}),u["default"].createElement(l.InputRow,{name:"Password",value:r,type:"password",handler:this.handlePassword1,errors:o.new_password1,id:"password-password1-input"}),u["default"].createElement(l.InputRow,{name:"Password (Verify)",value:n,type:"password",handler:this.handlePassword2,errors:o.new_password2,id:"password-password2-input"}),u["default"].createElement("div",null,u["default"].createElement("button",null,"Change Password")))}});t["default"]=o},266:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(267),u=n(a);t["default"]={user:u["default"]}},267:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case u.LOGIN_USER:return Object.assign({},t.user,{authenticated:!0});case u.LOGOUT_USER:return{authenticated:!1};default:return e}};var a=r(255),u=n(a)}});